import{d as e,r as a,f as s,a4 as t,V as l,W as r,a1 as i,a5 as o,u as n,E as u,k as d,Z as m,a6 as f,a7 as c,I as p}from"./vue-vendor-CFnyIo_N.js";import{u as v,l as g,s as h,_ as x}from"./index-BONNjK7n.js";import{u as w}from"./useBackToIndex-I4I1zMx-.js";import{F as b,b as _,I as y,d as D,e as I,B as j}from"./ant-design-vue-ceZujQnV.js";const k={class:"login-container"},T={class:"login-form-box flex h-full p-3%"},M={class:"w-50% flex flex-col items-center relative justify-center"},q={class:"title-container absolute font-bold text-white"},z={class:"text-center"},A=["src","alt"],B={class:"w-50% flex justify-center items-center"},U={class:"flex justify-between"},F=x(e({__name:"Index",setup(e){const x=a({formTitle:"vue-vite-frame111",rememberMe:!1,formData:{username:"",password:""}}),F=s(!1),S=t(),V=v(),E=b.useForm,{validate:H,validateInfos:W}=E(x.formData,a({username:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"}]})),Z=e=>{F.value=!0,e.preventDefault(),H().then(async()=>{const{result:e,code:a}=await g(p(x.formData));if(F.value=!1,0===a){h("userInfo",e),h("admin_token","dwafewfwefwgergergergergergerg"),V.userInfo=e,V.$patch({userInfo:e});const{userMenu:a}=await V.getMenu({id:e.id}),s=w();S.push({path:s})}}).catch(e=>{F.value=!1})};return(e,a)=>{const s=y,t=_,p=D,v=I,g=j,h=b;return r(),l("div",k,[i("div",T,[i("div",M,[i("div",q,o(x.formTitle),1),i("div",z,[i("img",{class:"w-50%",src:n("/vue-vite-frame/assets/svg/login-box-bg-BwcHql23.svg"),alt:x.formTitle},null,8,A)]),a[3]||(a[3]=i("div",{class:"mt-20px login-info text-white"},"基于vue3.0、TypeScript、Vite、pinia、ant-design-vue开发的后台管理系统",-1)),a[4]||(a[4]=i("div",{class:"mt-20px login-info text-white"},[u(" @github: "),i("a",{class:"text-white",target:"_blank",href:"https://github.com/Anxure/vue-base-frame"},"https://github.com/Anxure/vue-vite-frame")],-1)),a[5]||(a[5]=i("div",{class:"mt-20px login-info text-white"},"@author: Anxure",-1))]),i("div",B,[d(h,{"label-col":{span:4},"wrapper-col":{span:20},model:x.formData,class:"login-form",onSubmit:Z},{default:m(()=>[a[9]||(a[9]=i("div",{class:"font-bold text-white form-title mb-15px"},"登录：",-1)),d(t,f(c(n(W).username)),{default:m(()=>[d(s,{size:"large",value:x.formData.username,"onUpdate:value":a[0]||(a[0]=e=>x.formData.username=e),placeholder:"默认账号为admin/test"},null,8,["value"])]),_:1},16),d(t,f(c(n(W).password)),{default:m(()=>[d(p,{size:"large",value:x.formData.password,"onUpdate:value":a[1]||(a[1]=e=>x.formData.password=e),placeholder:"默认密码为123456",visibilityToggle:!1},null,8,["value"])]),_:1},16),d(t,null,{default:m(()=>[i("div",U,[d(v,{checked:x.rememberMe,"onUpdate:checked":a[2]||(a[2]=e=>x.rememberMe=e)},{default:m(()=>[...a[6]||(a[6]=[i("span",{class:"text-white"},"记住我",-1)])]),_:1},8,["checked"]),a[7]||(a[7]=i("a",{class:"text-white"},"忘记密码？",-1))])]),_:1}),d(t,{"wrapper-col":{span:20,offset:0}},{default:m(()=>[d(g,{type:"primary",size:"large",class:"submit-btn","html-type":"submit",loading:F.value},{default:m(()=>[...a[8]||(a[8]=[u("登录",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])])}}}),[["__scopeId","data-v-a0d6dbd1"]]);export{F as default};
