import"./default.3e03d065.js";import{F as n,_ as E}from"./index.b16938e2.js";import"./index.f6f443c0.js";import"./index.3083a570.js";import{B as T}from"./index.3abd40a9.js";import{I as M,_ as R,C as z}from"./index.817a437b.js";import{d as U,r as h,a as V,u as j,b as N,c as q,e,t as L,f,g as a,w as r,l as P,h as $,s as b,o as G,n as F,i as x,j as I,p as H,k as J,m as K}from"./index.f8dfac25.js";import{u as O}from"./useBackToIndex.173b0e2a.js";import{u as Q,F as p}from"./debounce.d2ea3035.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";import"./isSymbol.870dd82d.js";import"./_flatRest.4f1312f3.js";n.useInjectFormItemContext=Q;n.ItemRest=p;n.install=function(s){return s.component(n.name,n),s.component(n.Item.name,n.Item),s.component(p.name,p),s};const X="/vue-vite-frame/assets/login-box-bg.9027741f.svg",l=s=>(H("data-v-cae3e3ee"),s=s(),J(),s),Y={class:"login-container"},Z={class:"login-form-box flex h-full p-p-3"},ee={class:"w-5 flex column flex-center relative align-item-center"},oe={class:"title-container absolute font-bold color-f"},te={class:"center"},se=["src","alt"],ae=l(()=>e("div",{class:"t-4 login-info color-f"},"\u57FA\u4E8Evue3.0\u3001TypeScript\u3001Vite\u3001pinia\u3001ant-design-vue\u5F00\u53D1\u7684\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1)),ne=l(()=>e("div",{class:"t-4 login-info color-f"},[I(" @github: "),e("a",{class:"color-f",target:"_blank",href:"https://github.com/Anxure/vue-base-frame"},"https://github.com/Anxure/vue-vite-frame")],-1)),re=l(()=>e("div",{class:"t-4 login-info color-f"},"@author: Anxure",-1)),ue={class:"w-5 flex flex-center align-item-center"},le=l(()=>e("div",{class:"font-bold color-f form-title b-3"},"\u767B\u5F55\uFF1A",-1)),ce={class:"flex space-between"},ie=l(()=>e("span",{class:"color-f"},"\u8BB0\u4F4F\u6211",-1)),me=l(()=>e("a",{class:"color-f"},"\u5FD8\u8BB0\u5BC6\u7801\uFF1F",-1)),de=U({__name:"Index",setup(s){const t=h({formTitle:"vue-base-frame",rememberMe:!1,formData:{username:"",password:""}}),i=V(!1),w=K(),m=j(),B=N();t.formTitle=B.title;const D=n.useForm,{validate:k,validateInfos:g}=D(t.formData,h({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]})),A=v=>{i.value=!0,v.preventDefault(),k().then(async()=>{const{result:o,code:d}=await P($(t.formData));if(i.value=!1,d===0){b("userInfo",o),b("admin_token","dwafewfwefwgergergergergergerg"),m.userInfo=o,m.$patch({userInfo:o});const{userMenu:u}=await m.getMenu({id:o.id});console.log(u,"userMenu");const _=O();w.push({path:_})}}).catch(o=>{i.value=!1,console.log("error",o)})};return(v,o)=>{const d=M,u=E,_=R,S=z,C=T,y=n;return G(),q("div",Y,[e("div",Z,[e("div",ee,[e("div",oe,L(t.formTitle),1),e("div",te,[e("img",{class:"w-5",src:f(X),alt:t.formTitle},null,8,se)]),ae,ne,re]),e("div",ue,[a(y,{"label-col":{span:4},"wrapper-col":{span:20},model:t.formData,class:"login-form",onSubmit:A},{default:r(()=>[le,a(u,F(x(f(g).username)),{default:r(()=>[a(d,{size:"large",value:t.formData.username,"onUpdate:value":o[0]||(o[0]=c=>t.formData.username=c),placeholder:"\u9ED8\u8BA4\u8D26\u53F7\u4E3Aadmin/test"},null,8,["value"])]),_:1},16),a(u,F(x(f(g).password)),{default:r(()=>[a(_,{size:"large",value:t.formData.password,"onUpdate:value":o[1]||(o[1]=c=>t.formData.password=c),placeholder:"\u9ED8\u8BA4\u5BC6\u7801\u4E3A123456",visibilityToggle:!1},null,8,["value"])]),_:1},16),a(u,null,{default:r(()=>[e("div",ce,[a(S,{checked:t.rememberMe,"onUpdate:checked":o[2]||(o[2]=c=>t.rememberMe=c)},{default:r(()=>[ie]),_:1},8,["checked"]),me])]),_:1}),a(u,{"wrapper-col":{span:20,offset:0}},{default:r(()=>[a(C,{type:"primary",size:"large",class:"submit-btn","html-type":"submit",loading:i.value},{default:r(()=>[I("\u767B\u5F55")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])])}}});const De=W(de,[["__scopeId","data-v-cae3e3ee"]]);export{De as default};
